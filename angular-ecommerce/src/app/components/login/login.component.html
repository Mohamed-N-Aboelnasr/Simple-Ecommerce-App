<div class="login-container">
    <div class="login-card">
        <h2 class="login-title">{{ isRegisterMode ? 'Create an Account' : 'Welcome Back' }}</h2>
        <p class="login-subtitle">
            {{ isRegisterMode ? 'Sign up to get started!' : 'Please login to your account' }}
        </p>

        <!-- Login Form -->
        <form *ngIf="!isRegisterMode" (ngSubmit)="onSubmitLogin()" [formGroup]="loginForm" class="login-form">
            <!-- Username -->
            <div class="form-group">
                <label for="username">
                    <i class="fas fa-user"></i> Username
                </label>
                <input id="username" type="text" formControlName="username" placeholder="Enter your username"
                    class="form-control" />
                <div class="error" *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched">
                    <small *ngIf="loginForm.get('username')?.errors?.['required']">Username is required</small>
                    <small *ngIf="loginForm.get('username')?.errors?.['minlength']">Minimum 3 characters</small>
                </div>
            </div>

            <!-- Password -->
            <div class="form-group">
                <label for="password">
                    <i class="fas fa-lock"></i> Password
                </label>
                <input id="password" type="password" formControlName="password" placeholder="Enter your password"
                    class="form-control" />
                <div class="error" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
                    <small *ngIf="loginForm.get('password')?.errors?.['required']">Password is required</small>
                    <small *ngIf="loginForm.get('password')?.errors?.['minlength']">Minimum 6 characters</small>
                </div>
            </div>

            <!-- Submit Button -->
            <button type="submit" [disabled]="loginForm.invalid" class="btn-submit">Login</button>
        </form>

        <!-- Register Form -->
        <form *ngIf="isRegisterMode" (ngSubmit)="onSubmitRegister()" [formGroup]="registerForm" class="login-form">
            <!-- Full Name -->
            <div class="form-group">
                <label for="fullName">
                    <i class="fas fa-user"></i> Full Name
                </label>
                <input id="fullName" type="text" formControlName="fullName" placeholder="Enter your full name"
                    class="form-control" />
                <div class="error"
                    *ngIf="registerForm.get('fullName')?.invalid && registerForm.get('fullName')?.touched">
                    <small *ngIf="registerForm.get('fullName')?.errors?.['required']">Full name is required</small>
                </div>
            </div>

            <!-- Email -->
            <div class="form-group">
                <label for="email">
                    <i class="fas fa-envelope"></i> Email
                </label>
                <input id="email" type="email" formControlName="email" placeholder="Enter your email"
                    class="form-control" />
                <div class="error" *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
                    <small *ngIf="registerForm.get('email')?.errors?.['required']">Email is required</small>
                    <small *ngIf="registerForm.get('email')?.errors?.['minlength']">Enter a valid email</small>
                </div>
            </div>

            <!-- Password -->
            <div class="form-group">
                <label for="password">
                    <i class="fas fa-lock"></i> Password
                </label>
                <input id="password" type="password" formControlName="password" placeholder="Enter a password"
                    class="form-control" />
                <div class="error"
                    *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
                    <small *ngIf="registerForm.get('password')?.errors?.['required']">Password is required</small>
                    <small *ngIf="registerForm.get('password')?.errors?.['minlength']">Minimum 6 characters</small>
                </div>
            </div>

            <!-- Submit Button -->
            <button type="submit" [disabled]="registerForm.invalid" class="btn-submit">Register</button>
        </form>

        <!-- Error Message -->
        <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

        <!-- Toggle Mode -->
        <p class="register-prompt">
            {{ isRegisterMode ? 'Already have an account?' : "Don't have an account?" }}
            <a (click)="toggleMode()">{{ isRegisterMode ? 'Login here' : 'Register here' }}</a>.
        </p>
    </div>
</div>